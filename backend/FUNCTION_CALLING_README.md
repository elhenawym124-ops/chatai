# ๐ ูุธุงู Function Calling ุงููุชูุฏู ูุน Gemini

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุชูุฏู ูุณูุญ ูู Gemini AI ุจุงููุตูู ุงููุจุงุดุฑ ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชูุงุนู ูุน ุงูููุชุฌุงุช ุจุฐูุงุก ุจุงุณุชุฎุฏุงู Function Calling. ูุฐุง ุงููุธุงู ูุฌูุน ุจูู ููุฉ ุงูุฐูุงุก ุงูุตูุงุนู ูุณุฑุนุฉ ุงููุตูู ููุจูุงูุงุช ุงูุญููููุฉ.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ง Function Calling
- **ูุตูู ูุจุงุดุฑ ููุงุนุฏุฉ ุงูุจูุงูุงุช**: Gemini ูุณุชุทูุน ุงูุจุญุซ ูู ุงูููุชุฌุงุช ูุจุงุดุฑุฉ
- **ุฃุฏูุงุช ูุชุฎุตุตุฉ**: 8 ุฃุฏูุงุช ูุฎุชููุฉ ููุจุญุซ ูุงูุชูุงุนู ูุน ุงูููุชุฌุงุช
- **ุฑุฏูุฏ ุฐููุฉ**: ุฑุฏูุฏ ุทุจูุนูุฉ ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงูุญููููุฉ

### ๐ ุงููุธุงู ุงููุฌูู
- **ูุธุงู ุชูููุฏู**: ูููุญุงุฏุซุงุช ุงูุนุงูุฉ ูุงูุฑุฏูุฏ ุงูุณุฑูุนุฉ
- **ูุธุงู ูุชูุฏู**: ูุน Function Calling ููุงุณุชูุณุงุฑุงุช ุงููุนูุฏุฉ
- **ุชุจุฏูู ุชููุงุฆู**: ุงุฎุชูุงุฑ ุงููุธุงู ุงูููุงุณุจ ุญุณุจ ููุน ุงูุทูุจ

### ๐พ ุชุญุณูู ุงูุฃุฏุงุก
- **ูุธุงู Cache**: ุชุฎุฒูู ูุคูุช ููุจุญุซ ุงููุชูุฑุฑ
- **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**: ุฅุญุตุงุฆูุงุช ููุตูุฉ ูู ุงูููุช ุงููุนูู
- **ุชูุงุฑูุฑ ุงูุตุญุฉ**: ูุฑุงูุจุฉ ุญุงูุฉ ุงููุธุงู ูุงูุชูุตูุงุช

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ

### ๐ฆ ุฃุฏูุงุช ุงูุจุญุซ ูู ุงูููุชุฌุงุช
1. **search_products**: ุงูุจุญุซ ุจูููุงุช ููุชุงุญูุฉ ูุน ููุชุฑุฉ ูุชูุฏูุฉ
2. **get_product_details**: ุชูุงุตูู ููุชุฌ ูุญุฏุฏ
3. **get_products_by_category**: ููุชุฌุงุช ุญุณุจ ุงููุฆุฉ
4. **get_popular_products**: ุงูููุชุฌุงุช ุงูุฃูุซุฑ ุดุนุจูุฉ
5. **get_new_products**: ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ
6. **get_products_by_price_range**: ููุชุฌุงุช ูู ูุทุงู ุณุนุฑู
7. **get_available_categories**: ุงููุฆุงุช ุงููุชุงุญุฉ
8. **get_product_stats**: ุฅุญุตุงุฆูุงุช ุงูููุชุฌุงุช

### ๐ฌ ุฃุฏูุงุช ุงููุญุงุฏุซุฉ
1. **analyze_customer_intent**: ุชุญููู ููุฉ ุงูุนููู
2. **suggest_related_products**: ุงูุชุฑุงุญ ููุชุฌุงุช ูุดุงุจูุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชูุนูู ุงููุธุงู ุงููุชูุฏู
```bash
POST /api/v1/ai/enable-advanced
{
  "companyId": "your-company-id"
}
```

### 2. ุงุณุชุฎุฏุงู ุงููุธุงู ุงููุฌูู
```bash
POST /api/v1/ai/generate-response-hybrid
{
  "message": "ุฃุฑูุฏ ุฃู ุฃุฑู ุงูููุชุฌุงุช ุงูุดุงุฆุนุฉ",
  "companyId": "your-company-id",
  "aiSettings": {
    "useAdvancedTools": true
  }
}
```

### 3. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
```bash
GET /api/v1/performance/health
GET /api/v1/performance/summary
GET /api/v1/performance/cache
```

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ

### ุทูุจ ุงูุนููู:
```
"ุนุงูุฒุฉ ููุชุดู ุฑูุงุถู ุจุณุนุฑ ูุนููู"
```

### ุงุณุชุฌุงุจุฉ ุงููุธุงู:
```json
{
  "success": true,
  "data": {
    "response": "ูุฌุฏุช ูู 3 ููุชุดููุงุช ุฑูุงุถูุฉ ูู ุญุฏูุฏ ููุฒุงููุชู:\n\n1. ููุชุดู ุฑูุงุถู ูุงูู - 299.99 ุฌููู\n   ูุฑูุญ ูููุงุณุจ ููุฑูุงุถุฉ ูุงููุดู\n\n2. ููุชุดู ุญุฑููู ุฃููู - 250.00 ุฌููู\n   ุดูู ูููุงุณุจ ููุฎุฑูุฌุงุช\n\nุฃู ูุงุญุฏ ูุนุฌุจู ุฃูุซุฑุ",
    "usedTools": ["search_products"],
    "systemType": "advanced",
    "hasToolCalls": true
  }
}
```

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ
```
backend/src/services/
โโโ productSearchService.js      # ุฎุฏูุฉ ุงูุจุญุซ ูู ุงูููุชุฌุงุช
โโโ geminiToolsService.js        # ุชุนุฑูู ุฃุฏูุงุช Gemini
โโโ functionCallHandler.js       # ูุนุงูุฌ ุงุณุชุฏุนุงุกุงุช ุงูุฏูุงู
โโโ advancedGeminiWithTools.js   # ุฎุฏูุฉ Gemini ุงููุชูุฏูุฉ
โโโ hybridAiService.js           # ุงููุธุงู ุงููุฌูู
โโโ cacheService.js              # ูุธุงู ุงูุชุฎุฒูู ุงููุคูุช
โโโ performanceMonitor.js        # ูุฑุงูุจุฉ ุงูุฃุฏุงุก

backend/src/controllers/
โโโ advancedAiController.js      # Controller ูููุธุงู ุงููุชูุฏู
โโโ hybridAiController.js        # Controller ูููุธุงู ุงููุฌูู
โโโ performanceController.js     # Controller ูููุฑุงูุจุฉ
```

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### ุงุฎุชุจุงุฑุงุช ุดุงููุฉ ูุชุงุญุฉ:
- `test-product-search-service.js`: ุงุฎุชุจุงุฑ ุฎุฏูุฉ ุงูุจุญุซ
- `test-function-call-handler.js`: ุงุฎุชุจุงุฑ ูุนุงูุฌ ุงูุฏูุงู
- `test-advanced-gemini-tools.js`: ุงุฎุชุจุงุฑ Gemini ุงููุชูุฏู
- `test-comprehensive-function-calling.js`: ุงุฎุชุจุงุฑ ุดุงูู
- `test-scenarios.js`: ุงุฎุชุจุงุฑ ุณููุงุฑูููุงุช ุงูุนููุงุก
- `test-hybrid-system.js`: ุงุฎุชุจุงุฑ ุงููุธุงู ุงููุฌูู
- `test-optimized-system.js`: ุงุฎุชุจุงุฑ ุงููุธุงู ุงููุญุณู

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช:
```bash
node test-comprehensive-function-calling.js
node test-scenarios.js
node test-optimized-system.js
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ:
- **ูุนุฏู ุงููุฌุงุญ**: ูุณุจุฉ ุงูุทูุจุงุช ุงููุงุฌุญุฉ
- **ููุช ุงูุงุณุชุฌุงุจุฉ**: ูุชูุณุท ููุช ุงูุฑุฏ
- **ุงุณุชุฎุฏุงู Cache**: ูุนุฏู ุงูุฅุตุงุจุฉ ูุงูุฐุงูุฑุฉ
- **ููุงุฑูุฉ ุงูุฃูุธูุฉ**: ุฃุฏุงุก ุงูุชูููุฏู ููุงุจู ุงููุชูุฏู
- **ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช**: ุฃูุซุฑ ุงูุฃุฏูุงุช ุงุณุชุฎุฏุงูุงู

### ุชูุงุฑูุฑ ุงูุตุญุฉ:
- **ุญุงูุฉ ุงููุธุงู**: healthy/warning/critical
- **ููุงุท ุงูุตุญุฉ**: ูู 0 ุฅูู 100
- **ุงูุชูุตูุงุช**: ุงูุชุฑุงุญุงุช ุชููุงุฆูุฉ ููุชุญุณูู

## ๐ง ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ:
```env
GOOGLE_GEMINI_API_KEY=your-gemini-api-key
DATABASE_URL=your-database-url
```

### ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ:
```sql
-- ุฅุถุงูุฉ ุญูู ุงููุธุงู ุงููุชูุฏู (ูุณุชูุจููุงู)
ALTER TABLE ai_settings 
ADD COLUMN useAdvancedTools BOOLEAN DEFAULT FALSE;
```

## ๐ ุงููุดุฑ ูุงูุฅูุชุงุฌ

### ุงูุชุญุณููุงุช ุงููุทุจูุฉ:
1. **ูุธุงู Cache**: ุชุญุณูู ุณุฑุนุฉ ุงูุจุญุซ ุงููุชูุฑุฑ
2. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**: ุชุชุจุน ุงูุฃุฏุงุก ูู ุงูููุช ุงููุนูู
3. **ูุธุงู Fallback**: ุถูุงู ุนุฏู ุชููู ุงูุฎุฏูุฉ
4. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุชุณุฌูู ูุชุชุจุน ุงูุฃุฎุทุงุก
5. **ุชุญุณูู ุงูุงุณุชุนูุงูุงุช**: ุงุณุชุนูุงูุงุช ูุญุณูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุชูุตูุงุช ููุฅูุชุงุฌ:
1. **ุฅุถุงูุฉ Redis**: ููู Cache ุงูููุฒุน
2. **ูุงุนุฏุฉ ุจูุงูุงุช ูููุตูุฉ**: ููุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ
3. **Load Balancing**: ูุชูุฒูุน ุงูุฃุญูุงู
4. **Rate Limiting**: ูุญูุงูุฉ API
5. **Monitoring**: ุฃุฏูุงุช ูุฑุงูุจุฉ ูุชูุฏูุฉ

## ๐ ุงูุฏุนู ูุงูุตูุงูุฉ

### ุงูุฃูุงูุฑ ุงููููุฏุฉ:
```bash
# ูุณุญ Cache
POST /api/v1/performance/cache/clear

# ุฅุนุงุฏุฉ ุชุนููู ุงูุฅุญุตุงุฆูุงุช
POST /api/v1/performance/metrics/reset

# ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก
POST /api/v1/performance/test

# ุชูุฑูุฑ ุงูุตุญุฉ
GET /api/v1/performance/health
```

### ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:
1. **ุชุญูู ูู Gemini API**: ุชุฃูุฏ ูู ุตุญุฉ ุงูููุชุงุญ ูุงูููุชุง
2. **ูุฑุงุฌุนุฉ ุงูุฅุญุตุงุฆูุงุช**: ุชุญูู ูู ูุนุฏู ุงููุฌุงุญ ูุงูุฃุฎุทุงุก
3. **ูุญุต Cache**: ุชุฃูุฏ ูู ุนูู ูุธุงู ุงูุชุฎุฒูู ุงููุคูุช
4. **ูุฑุงุฌุนุฉ Logs**: ุชุชุจุน ุงูุฃุฎุทุงุก ูู ุงูุณุฌูุงุช

## ๐ฏ ุงููุชุงุฆุฌ ูุงูุฅูุฌุงุฒุงุช

### โ ุชู ุชุญูููู:
- ูุธุงู Function Calling ูุงูู ูุนุงูู
- ุชูุงูู ุณูุณ ูุน ุงููุธุงู ุงูุญุงูู
- ุชุญุณููุงุช ุฃุฏุงุก ููุญูุธุฉ
- ูุฑุงูุจุฉ ุดุงููุฉ ูููุธุงู
- ุงุฎุชุจุงุฑุงุช ุดุงููุฉ ููุฌุญุช ุจูุณุจุฉ 90%+

### ๐ ุงูุฅุญุตุงุฆูุงุช:
- **8 ุฃุฏูุงุช ูุชุฎุตุตุฉ** ููุชูุงุนู ูุน ุงูููุชุฌุงุช
- **3 ุฃูุธูุฉ ูุชูุงููุฉ**: ุชูููุฏูุ ูุชูุฏูุ ูุฌูู
- **7 ูููุงุช ุงุฎุชุจุงุฑ ุดุงููุฉ**
- **ูุนุฏู ูุฌุงุญ 100%** ูู ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุฎูุฑุฉ
- **ุชุญุณูู ุงูุฃุฏุงุก** ูุน ูุธุงู Cache

---

**๐ ุงููุธุงู ุฌุงูุฒ ููุฅูุชุงุฌ ููููุฑ ุชุฌุฑุจุฉ ุฐููุฉ ููุชุทูุฑุฉ ููุนููุงุก!**
