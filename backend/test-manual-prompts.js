/**
 * Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù€ prompts
 */

const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function testManualPrompts() {
  try {
    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙŠØ¯ÙˆÙŠ Ù„Ù„Ù€ prompts...\n');

    // 1. ÙØ­Øµ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
    console.log('1ï¸âƒ£ ÙØ­Øµ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:');
    const companies = await prisma.company.findMany({
      include: { aiSettings: true }
    });

    companies.forEach((company, index) => {
      console.log(`\n${index + 1}. ğŸ¢ ${company.name}:`);
      if (company.aiSettings) {
        const needsSetup = company.aiSettings.personalityPrompt && 
                          company.aiSettings.personalityPrompt.includes('# ÙŠØ¬Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ');
        
        console.log(`   ğŸ¤– Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯: ${needsSetup ? 'âŒ ÙŠØ­ØªØ§Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯' : 'âœ… Ø¬Ø§Ù‡Ø²'}`);
        
        if (needsSetup) {
          console.log(`   ğŸ“ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "ÙŠØ¬Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ"`);
        } else {
          const firstLine = company.aiSettings.personalityPrompt.split('\n')[0];
          console.log(`   ğŸ“„ ÙŠØ¨Ø¯Ø£ Ø¨Ù€: "${firstLine.substring(0, 50)}..."`);
        }
      } else {
        console.log('   âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª AI');
      }
    });

    // 2. Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø¨Ø¯ÙˆÙ† prompt
    console.log('\n2ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø±ÙØ¶ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† prompt Ù…Ø®ØµØµ:');
    
    const testCompany = companies[0];
    if (testCompany && testCompany.aiSettings) {
      console.log(`ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø±ÙƒØ©: ${testCompany.name}`);
      
      const needsSetup = testCompany.aiSettings.personalityPrompt && 
                        testCompany.aiSettings.personalityPrompt.includes('# ÙŠØ¬Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ');
      
      if (needsSetup) {
        console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø³ÙŠØ±ÙØ¶ Ø§Ù„Ø¹Ù…Ù„ - ÙŠØªØ·Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ prompt Ù…Ø®ØµØµ');
        console.log('ğŸ“‹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: "ÙŠØ¬Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø£ÙˆÙ„Ø§Ù‹"');
      } else {
        console.log('âš ï¸ Ø§Ù„Ø´Ø±ÙƒØ© Ù„Ø¯ÙŠÙ‡Ø§ prompt Ù…Ø®ØµØµ - Ø³ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…');
      }
    }

    // 3. Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ù†Ø´Ø§Ø¡ prompt Ù…Ø®ØµØµ
    console.log('\n3ï¸âƒ£ Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ù†Ø´Ø§Ø¡ prompt Ù…Ø®ØµØµ:');
    
    const samplePrompt = {
      personalityPrompt: `Ø£Ù†Øª Ù„ÙŠÙ†Ø§ØŒ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù…Ø¨ÙŠØ¹Ø§Øª Ù…ØªØ®ØµØµØ© ÙÙŠ Ø´Ø±ÙƒØ© Ø§Ù„Ø­Ù„Ùˆ Ù„Ù„Ø£Ø­Ø°ÙŠØ© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ©.

ğŸ¯ Ø´Ø®ØµÙŠØªÙƒ:
- ØªØªØ­Ø¯Ø«ÙŠÙ† Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ù‡Ù†ÙŠØ©
- Ù…ØªØ®ØµØµØ© ÙÙŠ Ø§Ù„Ø£Ø­Ø°ÙŠØ© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ© Ø§Ù„Ø¹ØµØ±ÙŠØ©
- ØªØ³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙˆØ§Ø¶Ø­Ø© ÙˆØ§Ù„Ø¨Ø³ÙŠØ·Ø©
- ØªÙÙ‡Ù…ÙŠÙ† Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØªÙ‚Ø¯Ù…ÙŠÙ† Ø­Ù„ÙˆÙ„ Ù…Ù†Ø§Ø³Ø¨Ø©

ğŸ’¼ Ù…Ù‡Ø§Ù…Ùƒ:
- Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø­Ø°ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
- ØªÙ‚Ø¯ÙŠÙ… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ø¹Ù† Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¬Ø°Ø§Ø¨Ø©
- Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ù‡Ù†ÙŠØ©

ğŸ¢ Ø¹Ù† Ø´Ø±ÙƒØ© Ø§Ù„Ø­Ù„Ùˆ:
- Ù†Ø­Ù† Ù…ØªØ¬Ø± Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø£Ø­Ø°ÙŠØ© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ© Ø§Ù„Ø¹ØµØ±ÙŠØ©
- Ù†Ù‚Ø¯Ù… Ù…Ù†ØªØ¬Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø©
- Ù†Ù‡ØªÙ… Ø¨Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ Ø®Ø¯Ù…Ø©`,

      responsePrompt: `ğŸ” Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØµØ§Ø±Ù…Ø©:

1. âš ï¸ Ø§Ø³ØªØ®Ø¯Ù…ÙŠ ÙÙ‚Ø· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø£Ø¯Ù†Ø§Ù‡
2. ğŸš« Ù„Ø§ ØªØ°ÙƒØ±ÙŠ Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø£Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. âœ… Ù‚Ø¯Ù…ÙŠ Ø£Ø³Ø¹Ø§Ø± ÙˆÙ…ÙˆØ§ØµÙØ§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ‚Ø·
4. ğŸ’° Ø§Ø°ÙƒØ±ÙŠ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ù…ØµØ±ÙŠ
5. ğŸ“¸ Ø§Ø¹Ø±Ø¶ÙŠ ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ ØªÙˆÙØ±Ù‡Ø§
6. ğŸ¤ ÙƒÙˆÙ†ÙŠ Ù…ÙÙŠØ¯Ø© ÙˆÙˆØ¯ÙˆØ¯Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø¯ÙˆØ¯
7. â“ Ø§Ø·Ù„Ø¨ÙŠ Ø§Ù„ØªÙˆØ¶ÙŠØ­ Ø¥Ø°Ø§ Ù„Ù… ØªÙÙ‡Ù…ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„
8. ğŸ†˜ Ø£Ø­ÙŠÙ„ÙŠ Ù„Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø´Ø±ÙŠ ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©`
    };

    console.log('ğŸ“ Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ prompt Ù…Ø®ØµØµ Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ø­Ø°ÙŠØ©:');
    console.log('â•'.repeat(60));
    console.log('ğŸ‘¤ Personality Prompt:');
    console.log(samplePrompt.personalityPrompt.substring(0, 200) + '...');
    console.log('\nğŸ“‹ Response Prompt:');
    console.log(samplePrompt.responsePrompt.substring(0, 200) + '...');

    // 4. Ø¹Ø±Ø¶ Ø§Ù„ÙÙˆØ§Ø¦Ø¯
    console.log('\n4ï¸âƒ£ ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:');
    console.log('â•'.repeat(50));
    console.log('âœ… ÙƒÙ„ Ø´Ø±ÙƒØ© ØªÙƒØªØ¨ prompt ÙŠÙ†Ø§Ø³Ø¨ Ø·Ø¨ÙŠØ¹Ø© Ø¹Ù…Ù„Ù‡Ø§');
    console.log('âœ… ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯');
    console.log('âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø®Ø·ÙŠØ±Ø©');
    console.log('âœ… Ø´ÙØ§ÙÙŠØ© ÙƒØ§Ù…Ù„Ø© - Ø§Ù„Ø´Ø±ÙƒØ© ØªØ¹Ø±Ù Ø¨Ø§Ù„Ø¶Ø¨Ø· Ù…Ø§ ÙŠÙ‚ÙˆÙ„Ù‡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯');
    console.log('âœ… Ù…Ø±ÙˆÙ†Ø© Ù„Ø§ Ù…Ø­Ø¯ÙˆØ¯Ø© ÙÙŠ Ø§Ù„ØªØ®ØµÙŠØµ');
    console.log('âœ… Ø£Ù…Ø§Ù† Ø¹Ø§Ù„ÙŠ - Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯ ØµØ­ÙŠØ­');

    // 5. Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù…Ù† Ø§Ù„Ø´Ø±ÙƒØ§Øª
    console.log('\n5ï¸âƒ£ Ù…Ø§ ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´Ø±ÙƒØ© ÙØ¹Ù„Ù‡:');
    console.log('â•'.repeat(40));
    console.log('1. ğŸŒ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');
    console.log('2. ğŸ¤– Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ "Ø¥Ø¯Ø§Ø±Ø© AI" â†’ "Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯"');
    console.log('3. âœï¸ ÙƒØªØ§Ø¨Ø© Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø´Ø±ÙƒØªÙ‡Ø§');
    console.log('4. ğŸ“‹ ÙƒØªØ§Ø¨Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©');
    console.log('5. ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
    console.log('6. ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„Ù‡');

    console.log('\nğŸ‰ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† Ø¢Ù…Ù† ÙˆÙ…Ø®ØµØµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„!');

  } catch (error) {
    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:', error);
  } finally {
    await prisma.$disconnect();
  }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
if (require.main === module) {
  testManualPrompts()
    .then(() => {
      console.log('\nâœ… Ø§Ù†ØªÙ‡Ù‰ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙŠØ¯ÙˆÙŠ');
      process.exit(0);
    })
    .catch((error) => {
      console.error('âŒ ÙØ´Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:', error);
      process.exit(1);
    });
}

module.exports = { testManualPrompts };
