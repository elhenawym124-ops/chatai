# ๐ณ ูุธุงู ุฏูุน ุงููุญุงูุธ ุงูุฅููุชุฑูููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุฏูุน ุดุงูู ููุชูุงูู ูุณูุญ ููุนููุงุก ุจุฏูุน ููุงุชูุฑูู ูุชุฌุฏูุฏ ุงุดุชุฑุงูุงุชูู ุจุงุณุชุฎุฏุงู ุงููุญุงูุธ ุงูุฅููุชุฑูููุฉ ุงููุตุฑูุฉ (ููุฏุงููู ูุงุดุ ุฃูุฑุงูุฌ ููููุ ุฅุชุตุงูุงุช ูููุณุ CIB Wallet).

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ููุนููุงุก
- **ุตูุญุฉ ุฅุฑุดุงุฏูุฉ ุจุณูุทุฉ** ูุชุฌุฏูุฏ ุงูุงุดุชุฑุงู
- **ูุณุฎ ุณุฑูุน** ูุฃุฑูุงู ุงููุญุงูุธ
- **ุฑูุน ุงูุฅูุตุงูุงุช** ูุน ุงูุชุญูู ูู ุงูููุน ูุงูุญุฌู
- **ูุธุงู ุฎุทูุงุช ูุชุฏุฑุฌ** ููุฏูุน
- **ูุงุฌูุฉ ุนุฑุจูุฉ** ูุงููุฉ ููุชุฌุงูุจุฉ

### โ ููุฅุฏุงุฑุฉ
- **ุฅุฏุงุฑุฉ ุฏููุงููููุฉ** ูุฃุฑูุงู ุงููุญุงูุธ
- **ูุฑุงุฌุนุฉ ุงูุฅูุตุงูุงุช** ุงููุนููุฉ
- **ุชุฃููุฏ/ุฑูุถ ุงููุฏููุนุงุช** ุจุถุบุทุฉ ูุงุญุฏุฉ
- **ุชุญุฏูุซ ุชููุงุฆู** ูุญุงูุฉ ุงูููุงุชูุฑ
- **ุฅูุดุงุก ุณุฌู ุฏูุน** ุนูุฏ ุงูุชุฃููุฏ

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### Backend APIs

#### ๐ฑ APIs ุงูุนุงูุฉ
```
GET /api/v1/wallet-payment/wallet-numbers
GET /api/v1/wallet-payment/invoice/{id}
POST /api/v1/wallet-payment/submit-receipt
```

#### ๐ APIs ุงูุฅุฏุงุฑุฉ
```
GET /api/v1/wallet-payment/admin/wallet-numbers
POST /api/v1/wallet-payment/admin/wallet-numbers
PUT /api/v1/wallet-payment/admin/wallet-numbers/{id}
DELETE /api/v1/wallet-payment/admin/wallet-numbers/{id}
GET /api/v1/wallet-payment/admin/pending-receipts
POST /api/v1/wallet-payment/admin/approve-receipt/{id}
POST /api/v1/wallet-payment/admin/reject-receipt/{id}
```

### Frontend Pages

#### ๐ค ุตูุญุงุช ุงูุนููู
- `/invoices` - ููุงุชูุฑู
- `/payments` - ูุฏููุนุงุชู  
- `/subscription` - ุงุดุชุฑุงูู (ุตูุญุฉ ุฅุฑุดุงุฏูุฉ)
- `/payment/subscription-renewal` - ุฏูุน ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู

#### ๐๏ธ ุตูุญุงุช ุงูุฅุฏุงุฑุฉ
- `/super-admin/wallet-management` - ุฅุฏุงุฑุฉ ุงููุญุงูุธ
- `/payment/{invoiceId}` - ุตูุญุฉ ุฏูุน ุงูููุงุชูุฑ

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ุฌุฏูุฏุฉ

#### WalletNumber
```sql
model WalletNumber {
  id          String   @id @default(cuid())
  name        String   // ุงุณู ุงููุญูุธุฉ
  number      String   // ุฑูู ุงููุญูุธุฉ
  icon        String   // ุฃููููุฉ ุงููุญูุธุฉ
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  receipts    WalletReceipt[]
}
```

#### WalletReceipt
```sql
model WalletReceipt {
  id              String   @id @default(cuid())
  invoiceId       String?  // ูุนุฑู ุงููุงุชูุฑุฉ (ุงุฎุชูุงุฑู)
  walletNumberId  String   // ูุนุฑู ุฑูู ุงููุญูุธุฉ
  receiptImage    String   // ูุณุงุฑ ุตูุฑุฉ ุงูุฅูุตุงู
  status          String   @default("PENDING") // PENDING, APPROVED, REJECTED
  amount          Float?   // ุงููุจูุบ (ุงุฎุชูุงุฑู)
  notes           String?  // ููุงุญุธุงุช
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  invoice         Invoice?     @relation(fields: [invoiceId], references: [id])
  walletNumber    WalletNumber @relation(fields: [walletNumberId], references: [id])
}
```

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุนููู
ุชู ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ **"๐ณ ุงูููุงุชูุฑ ูุงููุฏููุนุงุช"**:
- ๐งพ ููุงุชูุฑู
- ๐ฐ ูุฏููุนุงุชู
- ๐ ุงุดุชุฑุงูู

### ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุฅุฏุงุฑุฉ
ุชู ุฅุถุงูุฉ:
- ๐ฆ ุฅุฏุงุฑุฉ ุงููุญุงูุธ

## ๐ ุณูุฑ ุงูุนูู

### ููุนููู - ุฏูุน ุงูููุงุชูุฑ
1. ุงูุฏุฎูู ูุตูุญุฉ "ููุงุชูุฑู"
2. ุงูุถุบุท ุนูู "ุฏูุน" ูููุงุชูุฑุฉ ุงููุทููุจุฉ
3. ุงุฎุชูุงุฑ ููุณุฎ ุฑูู ุงููุญูุธุฉ
4. ุฅุฌุฑุงุก ุงูุชุญููู ูู ุงูุชููููู
5. ุฑูุน ุตูุฑุฉ ุงูุฅูุตุงู
6. ุฅุฑุณุงู ูููุฑุงุฌุนุฉ

### ููุนููู - ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู
1. ุงูุฏุฎูู ูุตูุญุฉ "ุงุดุชุฑุงูู"
2. ูุฑุงุฌุนุฉ ุชุงุฑูุฎ ุงูุชุฌุฏูุฏ ูุงููุจูุบ
3. ูุณุฎ ุฑูู ุงููุญูุธุฉ ุงูููุงุณุจ
4. ุงูุถุบุท ุนูู "ุฅุฑุณุงู ุฅูุตุงู ุงูุฏูุน"
5. ุงุฎุชูุงุฑ ุงููุญูุธุฉ ูุฑูุน ุงูุฅูุตุงู
6. ุชุฃููุฏ ุงูุฅุฑุณุงู

### ููุฅุฏุงุฑุฉ
1. ุงูุฏุฎูู ูุตูุญุฉ "ุฅุฏุงุฑุฉ ุงููุญุงูุธ"
2. ูุฑุงุฌุนุฉ ุงูุฅูุตุงูุงุช ุงููุนููุฉ
3. ุงูุถุบุท ุนูู "ููุงููุฉ" ุฃู "ุฑูุถ"
4. ุงููุธุงู ูุญุฏุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู
5. ุฅูุดุงุก ุณุฌู ุฏูุน ุนูุฏ ุงูููุงููุฉ

## ๐๏ธ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
npx prisma db push
npx prisma generate
```

### 2. ุฅุถุงูุฉ ุฃุฑูุงู ุงููุญุงูุธ ุงูุฃูููุฉ
```sql
INSERT INTO WalletNumber (id, name, number, icon, isActive) VALUES
('wallet1', 'ููุฏุงููู ูุงุด', '01234567890', '๐ฑ', true),
('wallet2', 'ุฃูุฑุงูุฌ ูููู', '01098765432', '๐', true),
('wallet3', 'ุฅุชุตุงูุงุช ูููุณ', '01156789012', '๐ต', true),
('wallet4', 'CIB Wallet', '01087654321', '๐ฆ', true);
```

### 3. ุฅูุดุงุก ูุฌูุฏ ุงูุฑูุน
```bash
mkdir backend/uploads
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ APIs
```bash
node backend/test-wallet-system-final.js
```

### ุงุฎุชุจุงุฑ ุงููุงุฌูุงุช
- ุตูุญุฉ ุงูุงุดุชุฑุงู: `http://localhost:3000/subscription`
- ุตูุญุฉ ุฏูุน ุงูุชุฌุฏูุฏ: `http://localhost:3000/payment/subscription-renewal`
- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุญุงูุธ: `http://localhost:3000/super-admin/wallet-management`

## ๐ ุงูุฃูุงู

### ุงูุชุญูู ูู ุงููููุงุช
- **ุงูุญุฌู ุงูุฃูุตู:** 5 ููุฌุงุจุงูุช
- **ุงูุฃููุงุน ุงููุณููุญุฉ:** ุตูุฑ ููุท (JPG, PNG, GIF)
- **ุงูุชุฎุฒูู:** ูุฌูุฏ ูุญูู `/uploads`

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- APIs ุงูุฅุฏุงุฑุฉ ูุญููุฉ ุจู authentication
- APIs ุงูุนุงูุฉ ูุชุงุญุฉ ููุฌููุน
- ุงูุชุญูู ูู ููููุฉ ุงูููุงุชูุฑ

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### ููุนููู
- ุฅุฌูุงูู ุงูููุงุชูุฑ
- ุงูููุงุชูุฑ ุงููุฏููุนุฉ/ุงููุนููุฉ/ุงููุชุฃุฎุฑุฉ
- ุฅุฌูุงูู ุงููุฏููุนุงุช
- ุณุฌู ุงููุฏููุนุงุช ุงููุงูู

### ููุฅุฏุงุฑุฉ
- ุงูุฅูุตุงูุงุช ุงููุนููุฉ
- ุฅุญุตุงุฆูุงุช ุงููุญุงูุธ
- ุชูุงุฑูุฑ ุงููุฏููุนุงุช

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูููุฒุงุช ููุชุฑุญุฉ
- **ุฅุดุนุงุฑุงุช ููุฑูุฉ** ุนูุฏ ุชุฃููุฏ ุงูุฏูุน
- **ุชูุงูู ูุน APIs ุงููุญุงูุธ** ููุชุญูู ุงูุชููุงุฆู
- **ูุธุงู ุฎุตููุงุช** ููุฏูุน ุงููุจูุฑ
- **ุชูุงุฑูุฑ ูุชูุฏูุฉ** ูููุฏููุนุงุช
- **ุฏุนู ุนููุงุช ูุชุนุฏุฏุฉ**

## ๐ ุงูุฏุนู ุงูููู

### ูุดุงูู ุดุงุฆุนุฉ
- **ุฎุทุฃ 401:** ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ูููุตูู ูุตูุญุงุช ุงูุฅุฏุงุฑุฉ
- **ูุดู ุฑูุน ุงูุตูุฑุฉ:** ุชุญูู ูู ุญุฌู ูููุน ุงูููู
- **ุนุฏู ุธููุฑ ุงููุญุงูุธ:** ุชุฃูุฏ ูู ูุฌูุฏ ูุญุงูุธ ูุดุทุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูููุงุช ุงูุณุฌูุงุช
- Backend logs: `backend/logs/`
- Upload errors: `backend/uploads/errors.log`

---

**ุชู ุงูุชุทููุฑ:** ุฃุบุณุทุณ 2025  
**ุงูุญุงูุฉ:** ููุชูู ูุฌุงูุฒ ููุฅูุชุงุฌ  
**ุงููุทูุฑ:** AI Assistant
